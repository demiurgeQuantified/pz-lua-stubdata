version: "1.1"
languages:
  lua:
    classes:
      ISBaseTimedAction:
        notes: When using the new network model, an action's table must be global and its name must match its Type.
        extends: ISBaseObject
        constructors:
          - notes:
              When using the new network model, this will be called on the server when the action starts on the client.
              The client object's field values will be passed to the parameters with matching names.
              Care should be taken when modifying these arguments as the server will receive the client's already modified values.
              If there is no field with a matching name, nil is passed.
            parameters:
              - name: character
                type: IsoPlayer
        staticFields:
          Type:
            defaultValue: '"ISBaseTimedAction"'
          IDMax:
            defaultValue: "1"
        fields:
          maxTime:
            type: number
          action:
            type: LuaTimedActionNew
          _isAddingActions:
            type: boolean
            nullable: true
          _numAddedActions:
            type: number
            nullable: true
          character:
            type: IsoPlayer
          stopOnWalk:
            type: boolean
          stopOnRun:
            type: boolean
          stopOnAim:
            type: boolean
          caloriesModifier:
            type: number
          useProgressBar:
            type: boolean
            nullable: true
            tags:
              - StubGen_Extra
          forceProgressBar:
            type: boolean
            nullable: true
            tags:
              - StubGen_Extra
          loopedAction:
            type: boolean
            nullable: true
            tags:
              - StubGen_Extra
          path:
            type: Path
            nullable: true
            tags:
              - StubGen_Extra
          name:
            type: string
            nullable: true
            tags:
              - StubGen_Extra
          netAction:
            type: NetTimedAction
            nullable: true
            notes: Nil on clients.
            tags:
              - StubGen_Extra
        methods:
          - name: animEvent
            parameters:
              - name: event
                type: string
              - name: parameter
                type: string
          - name: isValidStart
            return:
              - type: boolean
          - name: isValid
            notes: Called every tick during the action to determine if the action should continue.
            return:
              - type: boolean
                name: valid
                notes: If non-true, the action will be cancelled.
          - name: isUsingTimeout
            return:
              - type: boolean
          - name: update
          - name: forceComplete
          - name: forceStop
          - name: forceCancel
          - name: getJobDelta
            return:
              - type: number
          - name: setJobDelta
            parameters:
              - name: delta
                type: number
          - name: resetJobDelta
            return:
              - type: unknown
                nullable: true
          - name: waitToStart
            return:
              - type: boolean
          - name: start
            notes: Called when the client starts the action.
          - name: serverStart
            notes: Called when the server starts the action.
            return:
              - type: boolean
          - name: isStarted
            return:
              - type: boolean
          - name: stop
            notes: Called upon cancelling the action on the client.
          - name: serverStop
            notes: Called upon cancelling the action on the server.
            return:
              - type: boolean
          - name: perform
            notes:
              Called upon completion on the client. In singleplayer, called before complete().
          - name: complete
            notes:
              "Called upon completion on the server. In singleplayer, called after perform().
              Optional: if this function is not defined, the new action networking model will not be used."
            return:
              - type: boolean
          - name: getDuration
            notes:
              Calculates the duration of the timed action.
              Overriding this should be prefered over setting the maxTime in new() to prevent exploits.
            return:
              - type: number
          - name: create
          - name: begin
          - name: setCurrentTime
            parameters:
              - name: time
                type: number
          - name: setTime
            parameters:
              - name: time
                type: number
          - name: adjustMaxTime
            parameters:
              - name: maxTime
                type: number
            return:
              - type: number
          - name: setActionAnim
            parameters:
              - name: _action
                type: CharacterActionAnims | string
              - name: _displayItemModels
                nullable: true
          - name: setOverrideHandModels
            parameters:
              - name: _primaryHand
                type: InventoryItem
                nullable: true
              - name: _secondaryHand
                type: InventoryItem
                nullable: true
              - name: _resetModel
                type: boolean
                nullable: true
          - name: setOverrideHandModelsString
            parameters:
              - name: _primaryHand
                type: string
                nullable: true
              - name: _secondaryHand
                type: string
                nullable: true
              - name: _resetModel
                type: boolean
                nullable: true
          - name: overrideWeaponType
          - name: restoreWeaponType
          - name: setAnimVariable
            parameters:
              - name: _key
                type: string
              - name: _val
                type: string
          - name: addAfter
            parameters:
              - name: action
                type: ISBaseTimedAction
            return:
              - type: ISBaseTimedAction
                nullable: true
          - name: beginAddingActions
          - name: endAddingActions
            return:
              - type: boolean
          - name: getDeltaModifiers
            parameters:
              - name: deltas
                type: MoveDeltaModifiers
